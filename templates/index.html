<!DOCTYPE html>
<html>
<head><title>Home Page</title></head>
<body>

    <h1>Media Catalog Dashboard</h1>

    <!--search section -->

    <h2>Search by name</h2>
    <form action="/search" method="GET">
    <input type="text" name="name" placeholder="Search by name...">
    <button type="submit">Search</button>

    <p>To search by location go to the search page</p>

    <!-- Link to Search Page -->
    <p><a href="{{ url_for('search') }}">Go to Search Page</a></p>

    <!--Recently added section -->

    <h3>Recently Added dvds</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Title</th>
                <th>type</th>
                <th>location</th>
                <th>purchase_date</th>
            </tr>
        </thead>
        <tbody>
            {% for dvd in dvds%}
            <tr>
                <td>{{ dvd['title'] }}</td>
                <td>{{ dvd['type'] }}</td>
                <td>{{ dvd['location_label'] }}</td>
                <td>{{ dvd['purchase_date'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!--Stats section -->

    <h1>Info on your media library</h1>
    <div class="stats-section">
        <p>Total Media in collection: {{ counts[0].count }}</p>
        <p>Types of Media in collection:
        <ul>
        {% for item in types %}
            <li>{{ item.type }}: {{ item.count }}</li>
        {% endfor %}
        </ul>
        <p>Types of Genres in collection:</p>
        {% for item in genres %}
            <li>{{ item.genre }}: {{ item.count }}</li>
        {% endfor %}
        <p>Cost by type: {{costs}}</p>
        {% for item in costs %}
            <li> {{ item.type }}:{{ item.sum }}</li>
        {% endfor %}
    </div>
</body>
</html>
